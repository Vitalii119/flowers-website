let cart = JSON.parse(localStorage.getItem('cart')) || [];

const productButtonMap = {
    '–¢—Ä–∞–Ω–∫–≤—ñ–ª—ñ—Ç—ñ': 'btn-1',
    '–ü—ñ–ª—ñ–≥—Ä—ñ–º': 'btn-2',
    '–ì—Ä–µ—Ö–∞–º –¢–æ–º–∞—Å': 'btn-3',
    '–ì—Ä–∞—Ñ—ñ–Ω—è —Ñ–æ–Ω –•–∞—Ä–¥–µ–Ω–±–µ—Ä–≥': 'btn-4',
    '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –æ—Ñ –ö–µ–Ω—Ç': 'btn-5',
    '–ú–∞—Ä—ñ—è –ú–∞–≥–¥–∞–ª–µ–Ω–∞': 'btn-6',
    '–î–∞—Ä–∫ –õ–µ–¥—ñ': 'btn-7',
    '–ü—Ä–∏–Ω—Ü–µ—Å–∞ –ê–Ω–Ω–∞': 'btn-8',
    '–ö–ª–µ—Ä –û—Å—Ç—ñ–Ω': 'btn-9',
    '–ö—Ä–æ–∫—É—Å –†–æ—É–∑': 'btn-10',
    '–ö–æ—Ä–æ–ª–µ–≤–∞ –®–≤–µ—Ü—ñ—ó': 'btn-11',
    '–í—ñ–Ω—á–µ—Å—Ç–µ—Ä –ö–∞—Ñ–µ–¥—Ä–∞–ª': 'btn-12',
    '–ú–∞–Ω—Å—Ç–µ–¥ –í—É–¥': 'btn-13',
    '–û–ª—ñ–≤—ñ—è –†–æ—É–∑': 'btn-14',
    '–®–∞—Ä—ñ—Ñ–∞ –ê—Å–º–∞': 'btn-15',
    '–°—Ç—Ä–æ–±–µ—Ä—Ä—ñ –•—ñ–ª–ª': 'btn-16',
    '–ö–µ–π—Ä–∞': 'btn-17',
    '–ú—ñ—Ä–∞–Ω–¥–∞': 'btn-18',
    '–ê–±—Ä–∞—Ö–∞–º –î–µ—Ä–±—ñ': 'btn-19',
    '–î–∂–µ—Ñ—Ñ –ì–∞–º—ñ–ª—å—Ç–æ–Ω': 'btn-20',
    '–ï –®—Ä–æ–ø—à–∏—Ä –õ–µ–¥': 'btn-21',
    '–¢—ñ –ö–ª—ñ–ø–ø–µ—Ä': 'btn-22',
    '–ë–æ—Å–∫–æ–±–µ–ª—å': 'btn-23',
    '–î–∂–µ–π–º—Å –ì–µ–ª–≤–µ–π': 'btn-24',
    '–ë—î–∞—Ç—Ä—ñ—Å': 'btn-25',
    '–î–∞—Ä—Å—ñ –ë–∞—Å—Å–µ–ª': 'btn-26',
    '–ó–µ –ü—Ä–∏–Ω—Ü': 'btn-27',
    '–õ–µ–¥—ñ –æ—Ñ –®–∞–ª–æ—Ç': 'btn-28',
    '–ì–æ–ª–¥–µ–Ω –°–µ–ª–µ–±—Ä–µ–π—à–Ω': 'btn-29',
    '–ë—É–∫–µ—Ç –ü–∞—Ä—Ñ–µ': 'btn-30',
    '–ú–æ—Ü–∞—Ä—Ç –ª–µ–¥–∏': 'btn-31',
    '–ú—ñ–¥–Ω–∞–π—Ç –ë–ª—é': 'btn-32',
    '–ú–æ—Ü–∞—Ä—Ç': 'btn-33',
    '–ê–π—Å –æ—Ñ –∑–µ –¢–∞–π–≥–µ—Ä': 'btn-34',
    '–ê–π—Å —Ñ–æ —é': 'btn-35',
    '–†–æ–±—ñ–Ω –ì—É–¥': 'btn-36',
    '–ë—É–ª–ª—Å –ê–π—Å': 'btn-37',
    '–§–µ–π—Ä–∏': 'btn-38',
    '–ó–æ–Ω–Ω–µ–Ω—à–∞—Ä–º': 'btn-39',
    '–°–Ω–æ—É –±–∞–ª—î—Ç': 'btn-40',
    '–ü—ñ–Ω–∫ –ü—Ä–æ—Å–ø–µ—Ä—ñ—Ç—ñ': 'btn-41',
    '–°–∫–∞—Ä–ª–µ—Ç –ú–µ–π—è–Ω–¥–µ–∫–æ—Ä': 'btn-42',
    '–†–µ–¥ –∫–∞—Å–∫–∞–¥': 'btn-43',
    '–î–∂–∞–∑–∑': 'btn-44',
    '–°–ø—Ä–µ–π –í—ñ–∫—Ç–æ—Ä—ñ—è': 'btn-45',
    '–°–ø—Ä–µ–π –®–∞–π–Ω': 'btn-46',
    '–°–ø—Ä–µ–π –†–µ–¥ –ú–∞–∫–∞—Ä–µ–Ω–∞': 'btn-47',
    '–°–∞—Ñ—ñ–Ω–∞': 'btn-48',
    '–ö–∞—Ç–∞–ª—ñ–Ω–∞': 'btn-49',
    '–ê–ª–µ–≥—Ä—ñ—è': 'btn-50',
    '–ê–ø–µ–ª—å—Å–∏–Ω': 'btn-51',
    '–†–µ–¥ –ú—ñ–∫–∞–¥–æ': 'btn-52',
    '–†–æ—É–∑': 'btn-53',
    '–û—Ä–∞–Ω–∂ –ë–µ–±—ñ': 'btn-54',
    '–í–∞–π—Å —Ä–æ—É–∑': 'btn-55',
    '–ù–æ–≤–∞–ª—ñ—Å': 'btn-56',
    '–ü–æ–º–ø–æ–Ω–µ–ª–ª–∞': 'btn-57',
    '–Æ–≤—ñ–ª–µ–π –ø—Ä–∏–Ω—Ü–∞ –ú–æ–Ω–∞–∫–æ': 'btn-58',
    '–¢–µ—Ä–∞ –õ—ñ–º–±—É—Ä–≥—ñ—è': 'btn-59',
    '–ê—Ä—ñ—Ñ–∞': 'btn-60',
    '–•–∞–Ω—ñ –î—ñ–∂–æ–Ω': 'btn-61',
    '–ì–µ—Ä—Ü–æ–≥–∏–Ω—è –ö—Ä—ñ—Å—Ç—ñ–Ω–∞': 'btn-62',
    '–ö—É—Ä—Ñ—é—Å—Ç–µ–Ω –°–æ—Ñ–∏': 'btn-63',
    '–ê–Ω–≥–µ–ª–∞': 'btn-64',
    '–õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 'btn-65',
    '–í–∞–π—Ç –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 'btn-66',
    '–†–µ–¥ –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 'btn-67',
    '–ú—ñ–Ω–µ—Ä–≤–∞': 'btn-68',
    '–ê—Å–ø—ñ—Ä–∏–Ω': 'btn-69',
    '–Ü–∑—ñ –¥–∞–∑ –Ü—Ç': 'btn-70',
    '–õ–∞–≤ –°–æ–Ω–≥': 'btn-71',
    '4 –í—ñ—Ç—Ä–∏': 'btn-72',
    '–ë–ª—é —Ñ–æ –Æ': 'btn-73',
    '–°—Ç–µ—Ñ–∞–Ω—ñ –ë–∞—Ä–æ–Ω—ñ–Ω —Ü—É –ì—É—Ç–µ–Ω–±–µ—Ä–≥': 'btn-74',
    '–¢—î—Ä—Ä—ñ –ú–∞—Ä–∫—Å': 'btn-75',
    '–î–∂–∞–∑–∑': 'btn-76',
    '–§—Ä–µ–Ω–µ–∑—ñ': 'btn-77',
    '–ë–∞—Ä–æ–Ω–µ—Å—Å–∞': 'btn-78',
    '–ì—Ä–∞–Ω–∞—Ç–æ–≤–∏–π –ë—Ä–∞—Å–ª–µ—Ç': 'btn-79',
    '–õ–∞–π–æ–Ω –†–æ—É–∑': 'btn-80',
    '–ú–∞–ª—ñ–∫–æ—Ä–Ω': 'btn-81',
    '–°–∫–∞—Ä–ª–µ—Ç –ú–µ–π—è–Ω–¥–µ–∫–æ—Ä': 'btn-82',
    '–ü–∞—Ä–ø–ª –õ–æ–¥–∂': 'btn-83',
    '–ï–º—ñ–ª—î–Ω –ì—ñ–π–æ':'btn-84',
    '–ë–µ–ª—å –¥–µ –°–∞–≥–æ–∑–∞': 'btn-85',
    '–ú–æ—Ü–∞—Ä—Ç': 'btn-86',
    '–ù–µ–ª—å—Å–æ–Ω –ú–æ–Ω—Ñ–æ—Ä': 'btn-87',
    '–ë–µ–ª—å–≤–µ–¥–µ—Ä': 'btn-88',
    '–ê–Ω—ñ –î—é–ø—Ä–µ–π': 'btn-89',
    '–ü—Ä. –°—ñ–±—ñ–ª–ª–∞ –¥–µ –õ—é–∫—Å–µ–º–±—É—Ä–≥': 'btn-90',
    '–ô–æ—Ö–∞–Ω–Ω –í–æ–ª—å—Ñ–≥–∞–Ω–≥ –ì–µ—Ç–µ': 'btn-91',
    '–õ–æ—Ä–∞–Ω –ö–∞–±—Ä–æ–ª—å': 'btn-92',
    '–§—Ä–∞–Ω—Ü—É–∑—å–∫–∞ –°—É–∫–Ω—è': 'btn-93',
    '–ö–æ—Ä–∞–ª –ñ–µ–ª–µ': 'btn-94',
    '–®–∞—Ö–µ—Ä–µ–∑–∞–¥–∞': 'btn-95',
    '–ô–æ–ª—ñ': 'btn-96',
    '–î–∞—Ñ–Ω–∞':'btn-97',
    '–ï–≤—Ä—ñ–¥—ñ–∫–∞': 'btn-98',
    '–°–µ—Å—ñ–ª—å –¥–µ –í–æ–ª–∞–Ω–∂': 'btn-99',
    '–ü–ª—É–º': 'btn-100',
    '–ú—ñ—è–±—ñ':'btn-101',
  
};
const productPrices = {
  '–¢—Ä–∞–Ω–∫–≤—ñ–ª—ñ—Ç—ñ': 100,
  '–ü—ñ–ª—ñ–≥—Ä—ñ–º': 100,
  '–ì—Ä–µ—Ö–∞–º –¢–æ–º–∞—Å': 100,
  '–ì—Ä–∞—Ñ—ñ–Ω—è —Ñ–æ–Ω –•–∞—Ä–¥–µ–Ω–±–µ—Ä–≥': 100,
  '–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –æ—Ñ –ö–µ–Ω—Ç': 100,
  '–ú–∞—Ä—ñ—è –ú–∞–≥–¥–∞–ª–µ–Ω–∞': 100,
  '–î–∞—Ä–∫ –õ–µ–¥—ñ': 100,
  '–ü—Ä–∏–Ω—Ü–µ—Å–∞ –ê–Ω–Ω–∞': 100,
  '–ö–ª–µ—Ä –û—Å—Ç—ñ–Ω': 100,
  '–ö—Ä–æ–∫—É—Å –†–æ—É–∑': 100,
  '–ö–æ—Ä–æ–ª–µ–≤–∞ –®–≤–µ—Ü—ñ—ó': 100,
  '–í—ñ–Ω—á–µ—Å—Ç–µ—Ä –ö–∞—Ñ–µ–¥—Ä–∞–ª': 100,
  '–ú–∞–Ω—Å—Ç–µ–¥ –í—É–¥': 100,
  '–û–ª—ñ–≤—ñ—è –†–æ—É–∑': 100,
  '–®–∞—Ä—ñ—Ñ–∞ –ê—Å–º–∞': 100,
  '–°—Ç—Ä–æ–±–µ—Ä—Ä—ñ –•—ñ–ª–ª': 100,
  '–ö–µ–π—Ä–∞': 100,
  '–ú—ñ—Ä–∞–Ω–¥–∞': 100,
  '–ê–±—Ä–∞—Ö–∞–º –î–µ—Ä–±—ñ': 100,
  '–î–∂–µ—Ñ—Ñ –ì–∞–º—ñ–ª—å—Ç–æ–Ω': 100,
  '–ï –®—Ä–æ–ø—à–∏—Ä –õ–µ–¥': 100,
  '–¢—ñ –ö–ª—ñ–ø–ø–µ—Ä': 100,
  '–ë–æ—Å–∫–æ–±–µ–ª—å': 100,
  '–î–∂–µ–π–º—Å –ì–µ–ª–≤–µ–π': 100,
  '–ë—î–∞—Ç—Ä—ñ—Å': 100,
  '–î–∞—Ä—Å—ñ –ë–∞—Å—Å–µ–ª': 100,
  '–ó–µ –ü—Ä–∏–Ω—Ü': 100,
  '–õ–µ–¥—ñ –æ—Ñ –®–∞–ª–æ—Ç': 100,
  '–ì–æ–ª–¥–µ–Ω –°–µ–ª–µ–±—Ä–µ–π—à–Ω': 100,
  '–ë—É–∫–µ—Ç –ü–∞—Ä—Ñ–µ': 100,
  '–ú–æ—Ü–∞—Ä—Ç –ª–µ–¥–∏': 100,
  '–ú—ñ–¥–Ω–∞–π—Ç –ë–ª—é': 100,
  '–ú–æ—Ü–∞—Ä—Ç': 100,
  '–ê–π—Å –æ—Ñ –∑–µ –¢–∞–π–≥–µ—Ä': 100,
  '–ê–π—Å —Ñ–æ —é': 100,
  '–†–æ–±—ñ–Ω –ì—É–¥': 100,
  '–ë—É–ª–ª—Å –ê–π—Å': 100,
  '–§–µ–π—Ä–∏': 100,
  '–ó–æ–Ω–Ω–µ–Ω—à–∞—Ä–º': 100,
  '–°–Ω–æ—É –±–∞–ª—î—Ç': 100,
  '–ü—ñ–Ω–∫ –ü—Ä–æ—Å–ø–µ—Ä—ñ—Ç—ñ': 100,
  '–°–∫–∞—Ä–ª–µ—Ç –ú–µ–π—è–Ω–¥–µ–∫–æ—Ä': 100,
  '–†–µ–¥ –∫–∞—Å–∫–∞–¥': 100,
  '–î–∂–∞–∑–∑': 100,
  '–°–ø—Ä–µ–π –í—ñ–∫—Ç–æ—Ä—ñ—è': 100,
  '–°–ø—Ä–µ–π –®–∞–π–Ω': 100,
  '–°–ø—Ä–µ–π –†–µ–¥ –ú–∞–∫–∞—Ä–µ–Ω–∞': 100,
  '–°–∞—Ñ—ñ–Ω–∞': 100,
  '–ö–∞—Ç–∞–ª—ñ–Ω–∞': 100,
  '–ê–ª–µ–≥—Ä—ñ—è': 100,
  '–ê–ø–µ–ª—å—Å–∏–Ω': 100,
  '–†–µ–¥ –ú—ñ–∫–∞–¥–æ': 100,
  '–†–æ—É–∑': 100,
  '–û—Ä–∞–Ω–∂ –ë–µ–±—ñ': 100,
  '–í–∞–π—Å —Ä–æ—É–∑': 100,
  '–ù–æ–≤–∞–ª—ñ—Å': 100,
  '–ü–æ–º–ø–æ–Ω–µ–ª–ª–∞': 100,
  '–Æ–≤—ñ–ª–µ–π –ø—Ä–∏–Ω—Ü–∞ –ú–æ–Ω–∞–∫–æ': 100,
  '–¢–µ—Ä–∞ –õ—ñ–º–±—É—Ä–≥—ñ—è': 100,
  '–ê—Ä—ñ—Ñ–∞': 100,
  '–•–∞–Ω—ñ –î—ñ–∂–æ–Ω': 100,
  '–ì–µ—Ä—Ü–æ–≥–∏–Ω—è –ö—Ä—ñ—Å—Ç—ñ–Ω–∞': 100,
  '–ö—É—Ä—Ñ—é—Å—Ç–µ–Ω –°–æ—Ñ–∏': 100,
  '–ê–Ω–≥–µ–ª–∞': 100,
  '–õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 100,
  '–í–∞–π—Ç –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 100,
  '–†–µ–¥ –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í—ñ–Ω—á—ñ': 100,
  '–ú—ñ–Ω–µ—Ä–≤–∞': 100,
  '–ê—Å–ø—ñ—Ä–∏–Ω': 100,
  '–Ü–∑—ñ –¥–∞–∑ –Ü—Ç': 100,
  '–õ–∞–≤ –°–æ–Ω–≥': 100,
  '4 –í—ñ—Ç—Ä–∏': 100,
  '–ë–ª—é —Ñ–æ –Æ': 100,
  '–°—Ç–µ—Ñ–∞–Ω—ñ –ë–∞—Ä–æ–Ω—ñ–Ω —Ü—É –ì—É—Ç–µ–Ω–±–µ—Ä–≥': 100,
  '–¢—î—Ä—Ä—ñ –ú–∞—Ä–∫—Å': 100,
  '–§—Ä–µ–Ω–µ–∑—ñ': 100,
  '–ë–∞—Ä–æ–Ω–µ—Å—Å–∞': 100,
  '–ì—Ä–∞–Ω–∞—Ç–æ–≤–∏–π –ë—Ä–∞—Å–ª–µ—Ç': 100,
  '–õ–∞–π–æ–Ω –†–æ—É–∑': 100,
  '–ú–∞–ª—ñ–∫–æ—Ä–Ω': 100
};

function saveCart() {
  localStorage.setItem('cart', JSON.stringify(cart));
}

function addToCart(productName, buttonId) {
  const existingItem = cart.find(item => item.name === productName);
  if (existingItem) {
    existingItem.quantity++;
  } else {
    cart.push({ name: productName, quantity: 1 });

    // –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
    const btn = document.getElementById(buttonId);
    if (btn) {
      btn.textContent = '–í –∫–æ—à–∏–∫—É ‚úÖ';
      btn.disabled = true;
    }
  }
  saveCart();
  updateCartDisplay();
}
function increaseQuantity(index, amount = 1) {
  if (!cart[index]) return;
  cart[index].quantity += amount;
  saveCart();
  updateCartDisplay();
}

function removeQuantity(index, amount) {
  if (!cart[index]) return;

  cart[index].quantity -= amount;
  if (cart[index].quantity <= 0) {
  const removedItem = cart[index].name;
  const buttonId = productButtonMap[removedItem];
  if (buttonId) {
    const btn = document.getElementById(buttonId);
    if (btn) {
      btn.innerText = '–£ –∫–æ—à–∏–∫';
      btn.disabled = false;
      btn.onclick = function () {
        addToCart(removedItem, buttonId);
      };
    }
  }
  cart.splice(index, 1);
}

  saveCart();
  updateCartDisplay();
}

function removeFromCart(index) {
  const name = cart[index].name;
  const buttonId = productButtonMap[name];

  if (cart[index].quantity > 1) {
    cart[index].quantity--;
  } else {
    cart.splice(index, 1);
    if (buttonId) {
      const btn = document.getElementById(buttonId);
      if (btn) {
        btn.textContent = '–£ –∫–æ—à–∏–∫';
        btn.disabled = false;
      }
    }
  }

  saveCart();
  updateCartDisplay();
}
function calculateTotal() {
  return cart.reduce((total, item) => {
    const price = productPrices[item.name] || 0;
    return total + price * item.quantity;
  }, 0);
}

function updateCartDisplay() {
  // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤
  document.getElementById('cart-count').innerText =
    cart.reduce((total, item) => total + item.quantity, 0);

  const list = document.getElementById('cart-list');
  let totalSum = 0;

  if (list) {
    list.innerHTML = '';

    cart.forEach((item, index) => {
      const price = productPrices[item.name] || 0;
      const itemTotal = item.quantity * price;
      totalSum += itemTotal;

      const li = document.createElement('li');
      li.className = 'cart-item';
      li.innerHTML = `
        ${item.name} ‚Äî ${item.quantity} —à—Ç. x ${price} –≥—Ä–Ω = ${itemTotal} –≥—Ä–Ω 
        <button onclick="removeFromCart(${index})">‚àí1</button>
        <button onclick="removeQuantity(${index}, 10)">‚àí10</button>
        <button onclick="increaseQuantity(${index})">+1</button>
        <button onclick="increaseQuantity(${index}, 10)">+10</button>
      `;
      list.appendChild(li);
    });

    const totalLi = document.createElement('li');
    totalLi.innerHTML = `<strong>üíµ –°—É–º–∞ –¥–æ —Å–ø–ª–∞—Ç–∏: ${totalSum} –≥—Ä–Ω</strong>`;
    list.appendChild(totalLi);
  }
}


function addQuantity(index, amount) {
  cart[index].quantity += amount;
  saveCart();
  updateCartDisplay();
}

function toggleCart() {
  const cartDiv = document.getElementById('cart');
  if (cartDiv) {
    const visible = cartDiv.style.display === 'block';
    cartDiv.style.display = visible ? 'none' : 'block';
    localStorage.setItem('cartVisible', visible ? 'false' : 'true');
  }
}

const TELEGRAM_TOKEN = '8421402819:AAHXroHNrZDJ7HHPQaAhKrVUXfnxphxXu_M';
const TELEGRAM_CHAT_ID = '521597324';

function submitOrder() {
  if (cart.length === 0) {
    alert("–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
    return;
  }

  const name = document.getElementById("customer-name").value.trim();
  const phone = document.getElementById("customer-phone").value.trim();
  const address = document.getElementById("customer-address").value.trim();
  const totalSum = cart.reduce((sum, item) => {
  const price = productPrices[item.name] || 0;
  return sum + item.quantity * price;
}, 0);

  if (!name || !phone || !address) {
    alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è!");
    return;
  }

  const orderText =
    "üõí –ù–û–í–ï –ó–ê–ú–û–í–õ–ï–ù–ù–Ø:\n\n" +
    cart.map((item, i) => `${i + 1}. ${item.name} ‚Äî ${item.quantity} —à—Ç.`).join('\n') +
    `\n\nüíµ –°—É–º–∞ –¥–æ —Å–ø–ª–∞—Ç–∏: ${totalSum} –≥—Ä–Ω` +
    "\n\nüë§ –Ü–º'—è: " + name +
    "\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: " + phone +
    "\nüè† –ê–¥—Ä–µ—Å–∞: " + address;

  fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      chat_id: TELEGRAM_CHAT_ID,
      text: orderText,
    }),
  })
    .then(response => response.json())
    .then(data => {
      if (data.ok) {
        alert("‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!");
        cart = [];
        saveCart();
        updateCartDisplay();
        toggleCart();
        document.getElementById("customer-name").value = "";
        document.getElementById("customer-phone").value = "";
        document.getElementById("customer-address").value = "";
      } else {
        alert("‚ùå –ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.");
      }

      localStorage.removeItem('cart');
    });
}

document.addEventListener("DOMContentLoaded", function () {
  cart = JSON.parse(localStorage.getItem('cart')) || [];
  updateCartDisplay();

  cart.forEach(item => {
    const btnId = productButtonMap[item.name];
    const btn = document.getElementById(btnId);
    if (btn) {
      btn.textContent = '–í –∫–æ—à–∏–∫—É ‚úÖ';
      btn.disabled = true;
    }
  });

  // –°–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  const cartDiv = document.getElementById('cart');
  if (cartDiv) {
    cartDiv.style.display = 'none';
    localStorage.setItem('cartVisible', 'false');
  }
});

